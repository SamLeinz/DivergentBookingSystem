<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Form</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <link rel="stylesheet" href="booking.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
   
        <div class="displayUser">
            <h3>Welcome, <span id="usernameDisplay"></span>! <button id="logoutButton" onclick="logoutUser()">Logout</button></h1>
            
        </div>
        
        <br>
        <form id="bookingForm" name="myName" onsubmit="bookSlot(event)">
            <div class="top-field">
                <h2><b>Book Your Appointment Here</b></h2>
                <p>Please arrive 30 minutes prior to the scheduled</p>
             </div>
             <br>
            <ul class="form-style-1">
                <li><label>Full Name <span class="required">*</span></label><input type="text" id="firstName" name="field1" class="field-divided" placeholder="First" > <input type="text" id="lastName" name="field2" class="field-divided" placeholder="Last" /></li>
                <li>
                    <label>Email <span class="required">*</span></label>
                    <input type="email" id="emailAddress" name="field3" class="field-long" />
                </li>
                <li>
                  <label>Phone Number <span class="required">*</span></label>
                  <input type="number" id="phoneNum" name="field4" class="field-long" />
              </li>
              <li>
                <label>Date <span class="required">*</span></label>
                <input type="date"  id="dateTime" name="field5" class="field-long" />
            </li>
            <li>
              <label>Time Slots <span class="required">*</span></label>
              <input type="time" id="timeSlot" name="field6" class="field-long" />
          </li>
                <li>
                    <label>Service Type</label>
                    <select name="field7" id="serviceType" class="field-select" >
                      <option value="Adults Long Braids">Adults Long Braids</option>
                      <option value="Adults Short Braids">Adults Short Braids</option>
                      <option value="Adults Conrows">Adults Conrows</option>
                      <option value="Kids Long Braids">Kids Long Braids</option>
                      <option value="Kids Short Braids">Kids Short Braids</option>
                      <option value="Kids Conrows">Kids Conrows</option>
                      <option value="Hair Wash">Hair Wash</option>
                      <option value="Hair Treatment">Hair Treatment</option>
                      <option value="Manicure">Manicure</option>
                      <option value="Pedicure">Pedicure</option>
                      <option value="Acyrlic Nails">Acrylic Nails</option>
                      <option value="Gel Polish">Gel Polish</option>
                    </select>
                </li>
                
                <li>
                    <input type="submit" value="Submit" />
                </li>
            </ul>
            </form>
            <br>
            <!-- Section to display booking details -->
<div id="bookingDetails" class="UserDetails" style="display:none;">
    <h3>Booking Details</h3>
    <hr>
    <br>
    <p><strong>Full Name:</strong> <span id="displayFullName"></span></p>
    <br>
    <p><strong>Email:</strong> <span id="displayEmail"></span></p>
    <br>
    <p><strong>Phone Number:</strong> <span id="displayPhone"></span></p>
    <br>
    <p><strong>Date:</strong> <span id="displayDate"></span></p>
    <br>
    <p><strong>Time Slot:</strong> <span id="displayTime"></span></p>
    <br>
    <p><strong>Service Type:</strong> <span id="displayService"></span></p>
</div>
    <script src="account.js"></script>
    <script src="boooking.js"></script>
    <script>
        // Function to display user info on load
        window.onload = function() {
    const username = localStorage.getItem('username');
    if (username) {
        document.getElementById('usernameDisplay').textContent = username;
        
        // Load the user's booking details
        const firstName = localStorage.getItem(username + '_firstName');
        const lastName = localStorage.getItem(username + '_lastName');
        const emailAddress = localStorage.getItem(username + '_emailAddress');
        const phoneNumber = localStorage.getItem(username + '_phoneNum');
        const bookDate = localStorage.getItem(username + '_dateTime');
        const timeSlot = localStorage.getItem(username + '_timeSlot');
        const serviceType = localStorage.getItem(username + '_serviceType');

        if (firstName && lastName && emailAddress && phoneNumber && bookDate && timeSlot && serviceType) {
            // Display booking details
            document.getElementById('displayFullName').innerText = `${firstName} ${lastName}`;
            document.getElementById('displayEmail').innerText = emailAddress;
            document.getElementById('displayPhone').innerText = phoneNumber;
            document.getElementById('displayDate').innerText = bookDate;
            document.getElementById('displayTime').innerText = timeSlot;
            document.getElementById('displayService').innerText = serviceType;

            document.getElementById('bookingDetails').style.display = 'block';
        } else {
            // No booking details found
            document.getElementById('bookingDetails').style.display = 'none';
            alert('No booking details found for this user.');
        }
    } else {
        alert('You are not logged in. Redirecting to login page.');
        window.location.href = 'Index.html'; // Redirect to login if not logged in
    }
};

    </script>
</body>
</html>